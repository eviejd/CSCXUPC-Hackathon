<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Procrastinauction</title>
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Text&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <button id="soundToggle" class="sound-toggle" title="Toggle Sound">ðŸ”Š</button>
    <div id="gavelContainer" class="gavel-container">
      <img id="gavelIcon" class="gavel" src="gavel.png" alt="gavel">
    </div>

    <div id="homePage" class="page active">
      <div class="header">
        <nav class="nav">
          <a class="active" href="#">Overview</a>
          <a href="howTo.html">How To Use</a>
        </nav>
        <h1 class="logo">
          <img src="text-logo.png" class="logo-mark" alt="Procrastinauction" onerror="this.style.display='none'">
        </h1>
      </div>

      <div class="content">
        <div class="row">
          <div class="section">
            <h3>Users</h3>
            <div id="usersList"><div class="empty-state">No users yet</div></div>
            <div class="input-group" style="margin-top:12px">
              <label for="userNameInput">Add User</label>
              <input id="userNameInput" class="input-field" placeholder="e.g. Evie" autocomplete="off">
              <div id="userNameError" class="error-message" style="display:none"></div>
            </div>
            <button id="addUserBtn" class="btn">Add User</button>
          </div>

          <div class="section">
            <h3>Task List</h3>
            <div id="tasksList"><div class="empty-state">No tasks yet</div></div>
            <div class="input-group" style="margin-top:12px">
              <label for="taskInput">Add Task</label>
              <input id="taskInput" class="input-field" placeholder="e.g. Write meeting notes" autocomplete="off">
              <div id="taskError" class="error-message" style="display:none"></div>
            </div>
            <button id="addTaskBtn" class="btn">Add Task</button>
          </div>
        </div>

        <button id="btnStartRound" class="btn btn-primary btn-large">Start Round</button>
      </div>

      <div class="footer">
        <div>CPC X UPC Hackathon, 2025</div>
      </div>
    </div>

    <div id="handoverPage" class="page">
      <div class="content" style="display:flex;justify-content:center;align-items:center;text-align:center">
        <div>
          <div class="handover-row">
          <div class="handover-title">Pass the device to</div>
          <div id="handoverName" class="handover-name">â€”</div>
          </div>
          <div class="handover-text">Keep your bid hidden!</div>
          <div class="timer-wrap">
            <svg class="ring" viewBox="0 0 120 120" aria-hidden="true">
              <circle class="ring-bg" cx="60" cy="60" r="54"></circle>
              <circle class="ring-fg" id="handoverRing" cx="60" cy="60" r="54"></circle>
            </svg>
            <div class="timer" id="handoverTimer">3</div>
          </div>
        </div>
      </div>
    </div>

    <div id="bidPage" class="page">

      <div class="content">
        <div class="section">
          <div id="bidTaskTitle" class="task-title-large">Task Title</div>
          <div id="bidSubtitle" class="bid-subtitle">It's your turn â€” submit a bid</div>
        </div>

        <div class="timer-wrap">
          <svg class="ring" viewBox="0 0 120 120" aria-hidden="true">
            <circle class="ring-bg" cx="60" cy="60" r="54"></circle>
            <circle class="ring-fg" id="bidRing" cx="60" cy="60" r="54"></circle>
          </svg>
          <div class="timer" id="bidTimer">5</div>
        </div>

        <div class="input-group">
          <label for="bidAmount">Bid Amount</label>
          <input type="number" id="bidAmount" class="input-field" placeholder="0" min="0">
          <div id="bidError" class="error-message" style="display:none"></div>
        </div>
        <button id="submitBidBtn" class="btn btn-primary btn-large">Submit Bid</button>
      </div>
    </div>

    <div id="resultsPage" class="page">
      <div class="header">
        <h1 class="logo">
          <img src="results-text.png" class="result-text" alt="Results" onerror="this.style.display='none'">
        </h1>
      </div>
      <div class="content">
        <div class="section">
          <div class="result-task">
            <div>Task:</div>
          <div id="resultTask" class="result-task-row">â€”</div>
          <div class="winner-announcement">
            <div class="result-assigned">Assigned to:</div>
            </div>
            <div id="assignedName" class="winner-name"></div>
          </div>
          <table class="bids-table" id="bidsTable">
            <thead><tr><th>User</th><th>Bid</th></tr></thead>
            <tbody></tbody>
          </table>
              <button id="downloadResultsPdfBtn" class="btn btn-secondary">Download Results PDF</button>
        </div>

        <div class="section">
          <h3>Updated Points</h3>
          <div id="pointsList"></div>
        </div>

        <div class="section">
          <h3>Tasks by User</h3>
          <div id="tasksByUserResults">
            <div class="empty-state">No users yet</div>
          </div>
        </div>

        <button id="upcomingSummaryBtn" class="btn btn-primary">Upcoming Tasks</button>
        <button id="nextRoundBtn" class="btn btn-primary">Next Round</button>
        <button class="btn btn-secondary" onclick="showPage('homePage')">Back to Home</button>
      </div>
    </div>


    <!--UPCOMING-->
    <div id="upcomingTasks" class="page">
      <div class="header">
          <h1 class="logo">
              <img src="logo.png" class="logo-mark" alt="" onerror="this.style.display='none'">
              <span class="logo-text">Upcoming Tasks</span>
          </h1>
      </div>
      <div class="content">
          <div class="section">
              <div id="upcomingResultTask" class="upcoming-result-task">â€”</div>
              <h3>Remaining Tasks</h3>
              <div id="remainingTasksList">
                  <div class="empty-state">No tasks remain</div>
              </div>
          </div>
  
          <!-- Changed ID to avoid duplicate with resultsPage -->
          <button id="nextRoundBtnUpcoming" class="btn btn-primary">Next Round</button>
          <button class="btn btn-secondary" onclick="showPage('homePage')">Back to Home</button>
      </div>
      <div class="footer">
          <div>CPC X UPC Hackathon, 2025</div>
      </div>
  </div>

</div>
  </div>
  </div>

  <script src="app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <script src="pdfExport.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded',function(){
      if(window.initPdfExport) window.initPdfExport();
    });
  </script>
</body>
</html>
